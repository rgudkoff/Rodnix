# osfmk - Основное ядро RodNIX

Директория `osfmk` содержит основное ядро операционной системы, построенное по принципам архитектуры XNU.

## Структура

```
osfmk/
├── mach/           # Архитектурно-независимые абстракции
├── kern/           # Общие компоненты ядра
└── arch/           # Архитектурно-зависимые реализации
    ├── x86_64/     # x86_64 (CISC)
    ├── arm64/      # ARM64 (RISC)
    └── riscv64/    # RISC-V64 (RISC)
```

## Принципы

1. **Архитектурная абстракция**: Все архитектурно-зависимые детали изолированы в `arch/`
2. **Единый интерфейс**: `mach/` предоставляет единые интерфейсы для всех архитектур
3. **Модульность**: Каждый компонент четко разделен и может быть заменен

## Компоненты

### mach/
Архитектурно-независимые интерфейсы и абстракции:
- `arch_types.h` - базовые типы данных
- `config.h` - конфигурация ядра
- Интерфейсы для прерываний, памяти, процессора и т.д.

### kern/
Общие компоненты ядра, работающие поверх абстракций:
- Планировщик
- Управление памятью
- IPC
- Драйверы устройств

### arch/
Архитектурно-зависимые реализации:
- Каждая архитектура реализует интерфейсы из `mach/`
- Содержит специфичные для архитектуры оптимизации
- Изолирует различия между CISC и RISC

